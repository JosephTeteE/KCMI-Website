<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Privacy Policy | KCMI</title>
    <meta
      name="description"
      content="Privacy Policy for Kingdom Covenant Ministries International (KCMI) website and services."
    />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="../site.webmanifest" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Playfair+Display:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <style>
      :root {
        --kcmi-primary: #7c1963;
        --kcmi-primary-dark: #5a1349;
        --kcmi-secondary: #9a3d81;
        --kcmi-light: #f8f9fa;
        --kcmi-dark: #121212;
      }

      body {
        font-family: "Poppins", sans-serif;
        background-color: var(--kcmi-light);
        color: #333;
        padding-top: 60px;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      [data-bs-theme="dark"] body {
        background-color: var(--kcmi-dark);
        color: #e0e0e0;
      }

      body.navbar-open main {
        margin-top: 280px; /* Adjust this value as needed when navbar is open on small screens */
        transition: margin-top 0.3s ease; /* Smooth transition for content push */
      }

      /* Smooth transition for main content (general) */
      body main {
        transition: margin-top 0.3s ease;
      }

      /* Fixed Navbar */
      .navbar.fixed-top {
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1000; /* Ensure navbar stays on top */
        background-color: #eeabeddb; /* Light purple background */
      }

      .privacy-header {
        background: linear-gradient(
          135deg,
          var(--kcmi-primary),
          var(--kcmi-secondary)
        );
        color: white;
        padding: 3rem 0;
        margin-bottom: 2rem;
        position: relative;
        overflow: hidden;
      }

      .privacy-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 20% 80%,
            rgba(255, 255, 255, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 20%,
            rgba(182, 11, 19, 0.05) 0%,
            transparent 60%
          );
        opacity: 0.8;
      }

      .privacy-header .fw-bold {
        color: white;
      }

      .privacy-container {
        max-width: 800px;
        margin: 0 auto 3rem;
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        padding: 2.5rem;
      }

      [data-bs-theme="dark"] .privacy-container {
        background-color: #1e1e1e;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        border: 1px solid #444;
      }

      h1,
      h2,
      h3 {
        font-family: "Playfair Display", serif;
        color: var(--kcmi-primary);
      }

      [data-bs-theme="dark"] h1,
      [data-bs-theme="dark"] h2,
      [data-bs-theme="dark"] h3 {
        color: #c298b7;
      }

      h1 {
        font-weight: 700;
        margin-bottom: 1.5rem;
        position: relative;
      }

      h2 {
        margin-top: 2.5rem;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid rgba(124, 25, 99, 0.2);
      }

      [data-bs-theme="dark"] h2 {
        border-bottom-color: rgba(194, 152, 183, 0.2);
      }

      h3 {
        margin-top: 2rem;
        font-size: 1.3rem;
      }

      a {
        color: var(--kcmi-primary);
        text-decoration: none;
        transition: color 0.2s;
      }

      [data-bs-theme="dark"] a {
        color: #c298b7;
      }

      a:hover {
        color: var(--kcmi-secondary);
        text-decoration: underline;
      }

      ul {
        padding-left: 1.5rem;
      }

      li {
        margin-bottom: 0.75rem;
        position: relative;
      }

      li::before {
        content: "‚Ä¢";
        color: var(--kcmi-primary);
        font-weight: bold;
        display: inline-block;
        width: 1em;
        margin-left: -1em;
        position: absolute;
      }

      [data-bs-theme="dark"] li::before {
        color: #c298b7;
      }

      .effective-date {
        font-weight: 600;
        margin-bottom: 1.5rem;
        color: #666;
      }

      [data-bs-theme="dark"] .effective-date {
        color: #aaa;
      }

      .contact-info {
        background-color: rgba(124, 25, 99, 0.05);
        padding: 1.5rem;
        border-radius: 8px;
        margin-top: 2rem;
      }

      [data-bs-theme="dark"] .contact-info {
        background-color: rgba(154, 61, 129, 0.1);
      }

      .nav-back {
        margin-bottom: 2rem;
      }

      .nav-back a {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }

      @media (max-width: 768px) {
        .privacy-container {
          padding: 1.5rem;
        }

        .privacy-header {
          padding: 2rem 0;
        }
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="https://kcmi-rcc.org/index.html">
          <img
            src="../assets/img/kcmi-logo.jpeg"
            alt="KCMI Nigeria - Rehoboth Christian Center Church Logo"
            width="50"
            class="rounded-circle"
          />
          KCMI
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="https://kcmi-rcc.org">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://kcmi-rcc.org/mission-kcmi.html"
                >About Us</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://kcmi-rcc.org/location.html"
                >Our Locations</a
              >
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
              >
                Resources
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a
                    class="dropdown-item"
                    href="https://kcmi-rcc.org/sermons.html"
                    >Listen to Sermons</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="https://forms.gle/L6DyfegmTCGHuSBk6"
                    >Request Counselling</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="https://forms.gle/NcScEq6WFDeBankw5"
                    >Submit a Welfare Request</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="https://forms.gle/QxiASWogkGFamvEJ8"
                    >Share Celebrations</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="https://forms.gle/gKTwNc9gNiVCWWrJ6"
                    >Submit a Prayer Request</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="https://forms.gle/pzcwLAbUbXXjWxVU6"
                    >First Timer Form</a
                  >
                </li>
              </ul>
            </li>
          </ul>
          <button id="darkModeToggle" class="btn btn-dark ms-2">
            <span id="darkIcon">üåô</span>
            <span id="lightIcon" style="display: none">‚òÄÔ∏è</span>
          </button>
        </div>
      </div>
    </nav>

    <main class="flex-grow-1">
      <header class="privacy-header text-center">
        <div class="container">
          <h1 class="display-4 fw-bold">Privacy Policy</h1>
          <p class="lead">How we protect and use your information</p>
        </div>
      </header>
      <div class="container">
        <div class="nav-back">
          <a href="https://kcmi-rcc.org" class="text-decoration-none">
            <i class="fas fa-arrow-left"></i> Back to Home
          </a>
        </div>

        <div class="privacy-container">
          <p class="effective-date">
            <strong>Effective Date:</strong> June 30, 2025
          </p>

          <p>
            At Kingdom Covenant Ministries International (KCMI), we are
            committed to protecting your privacy. This Privacy Policy explains
            how we collect, use, disclose, and safeguard your information when
            you visit our website <strong>https://kcmi-rcc.org</strong> and any
            of its subdomains, including our youth camp platform and other
            services.
          </p>

          <h2>1. Information We Collect</h2>
          <p>
            We may collect personal information that you voluntarily provide to
            us when you:
          </p>
          <ul>
            <li>Register for events or camps</li>
            <li>Submit forms or contact us</li>
            <li>Make donations or payments</li>
            <li>Subscribe to our communications</li>
          </ul>

          <p>The types of personal information we collect may include:</p>
          <ul>
            <li>Contact information (name, email address, phone number)</li>
            <li>Demographic information (age, gender, church affiliation)</li>
            <li>Event registration details</li>
            <li>Any other information you choose to provide</li>
          </ul>

          <p>For camp registrations we collect:</p>
          <ul>
            <li>Contact details (name, email, phone)</li>
            <li>Number of attendees</li>
            <li>
              Payment receipts (stored temporarily then moved to Google Drive)
            </li>
            <li>reCAPTCHA verification tokens</li>
          </ul>

          <p>
            We also automatically collect certain technical information when you
            visit our website:
          </p>
          <ul>
            <li>Log data (IP address, browser type, pages visited)</li>
            <li>Cookies and similar tracking technologies</li>
            <li>Google reCAPTCHA responses (to prevent spam and abuse)</li>
            <li>Analytics data (via Google Analytics)</li>
          </ul>

          <h2>2. How We Use Your Information</h2>
          <p>
            We use the information we collect for various purposes, including:
          </p>
          <ul>
            <li>To provide and maintain our services</li>
            <li>To process event registrations and donations</li>
            <li>
              To communicate with you (confirmations, updates, newsletters)
            </li>
            <li>To improve our website and services</li>
            <li>To prevent fraud and ensure security</li>
            <li>To comply with legal obligations</li>
          </ul>

          <h2>3. Google API Services</h2>
          <p>
            We use Google APIs with restricted service accounts for ministry
            operations:
          </p>
          <ul>
            <li>
              <strong>Drive API:</strong> Securely store payment receipts (admin
              access only)
            </li>
            <li>
              <strong>Sheets API:</strong> Manage registration data in
              spreadsheets
            </li>
            <li>
              <strong>Calendar API:</strong> Display public event schedules
              (read-only)
            </li>
            <li>
              <strong>Gmail API:</strong> Send automated email confirmations
            </li>
          </ul>

          <p>Access is controlled through:</p>
          <ul>
            <li>JWT authentication for admin console</li>
            <li>Limited API scopes (no full account access)</li>
            <li>Service accounts instead of user OAuth</li>
          </ul>

          <h2>4. Admin Controls</h2>
          <p>Administrative access features:</p>
          <ul>
            <li>JWT-secured admin console</li>
            <li>Livestream embed code management</li>
            <li>Registration data viewing (no editing of financial records)</li>
            <li>Automatic session expiration</li>
          </ul>

          <h2>5. Data Security</h2>
          <p>We implement multiple security layers:</p>
          <ul>
            <li>JWT authentication with 1-minute expiry for admin access</li>
            <li>reCAPTCHA v2/v3 on all forms</li>
            <li>Payment receipts encrypted in Google Drive</li>
            <li>HTTPS for all data transfers</li>
            <li>Regular security audits</li>
          </ul>

          <p>
            Uploaded files are stored securely in our Google Drive, accessible
            only to authorized administrators.
          </p>

          <h2>6. Data Retention</h2>
          <p>We retain data based on operational needs:</p>
          <ul>
            <li>
              <strong>Active use:</strong> Camp data kept for 1 year post-event
            </li>
            <li>
              <strong>Financial records:</strong> Payment receipts retained for
              2 years
            </li>
            <li><strong>Contact forms:</strong> Deleted after 6 months</li>
          </ul>

          <p>
            You may request deletion of your data at any time by contacting us.
          </p>

          <h2>7. Your Rights and Choices</h2>
          <p>You have certain rights regarding your personal information:</p>
          <ul>
            <li><strong>Access:</strong> Request a copy of your data</li>
            <li>
              <strong>Correction:</strong> Update or correct inaccurate
              information
            </li>
            <li><strong>Deletion:</strong> Request deletion of your data</li>
            <li><strong>Opt-out:</strong> Unsubscribe from communications</li>
            <li>
              <strong>Restriction:</strong> Limit how we use your information
            </li>
          </ul>

          <p>
            To exercise these rights, please contact us using the information
            below.
          </p>

          <h2>8. Children's Privacy</h2>
          <p>
            Our services are not directed to children under 13. We do not
            knowingly collect personal information from children under 13
            without parental consent. If we become aware that we have collected
            personal information from a child without verification of parental
            consent, we will take steps to remove that information.
          </p>

          <h2>9. Changes to This Policy</h2>
          <p>
            We may update this Privacy Policy periodically. We will notify you
            of any changes by posting the new policy on this page and updating
            the effective date. We encourage you to review this policy
            regularly.
          </p>

          <h2>10. Contact Us</h2>
          <p>
            If you have questions about this Privacy Policy or your personal
            information, please contact us:
          </p>

          <div class="contact-info">
            <p>
              <strong>Kingdom Covenant Ministries International (KCMI)</strong
              ><br />
              Email:
              <a href="mailto:contact@kcmi-rcc.org">contact@kcmi-rcc.org</a
              ><br />
              Website: <a href="https://kcmi-rcc.org">https://kcmi-rcc.org</a>
            </p>
          </div>
        </div>
      </div>
    </main>

    <footer class="bg-danger text-white mt-auto">
      <div class="container py-5">
        <div class="row">
          <div class="col-6 col-md-2 mb-3">
            <h5>Quick Links</h5>
            <ul class="nav flex-column">
              <li class="nav-item mb-2">
                <a
                  href="https://kcmi-rcc.org/index.html"
                  class="nav-link p-0 text-white"
                  >Home</a
                >
              </li>
              <li class="nav-item mb-2">
                <a
                  href="https://kcmi-rcc.org/services.html"
                  class="nav-link p-0 text-white"
                  >Services</a
                >
              </li>
              <li class="nav-item mb-2">
                <a
                  href="https://kcmi-rcc.org/giving-kcmi.html"
                  class="nav-link p-0 text-white"
                  >Donations</a
                >
              </li>
              <li class="nav-item mb-2">
                <a
                  href="https://kcmi-rcc.org/faqs.html"
                  class="nav-link p-0 text-white"
                  >FAQs</a
                >
              </li>
              <li class="nav-item mb-2">
                <a
                  href="https://kcmi-rcc.org/contact-us.html"
                  class="nav-link p-0 text-white"
                  >Contact Us</a
                >
              </li>
            </ul>
          </div>

          <div class="col-md-5 offset-md-1 mb-3">
            <p>
              Daily Faith Recharge:<br />
              Subscribe to receive daily faith inspiration <br />
              Choose how
            </p>
            <div class="mb-2">
              <a
                href="https://open.spotify.com/show/6xYjccKxPNSCbBHbnPiEQq"
                target="_blank"
                class="btn btn-light w-100"
              >
                Listen on Spotify
                <img
                  src="../assets/img/spotify-logo.png"
                  width="30"
                  height="30"
                  class="rounded-circle"
                  alt="Spotify logo"
                />
              </a>
            </div>
            <div>
              <button
                class="btn btn-outline-light w-100"
                data-bs-toggle="modal"
                data-bs-target="#whatsappModal"
              >
                Join WhatsApp Broadcast
              </button>
            </div>
          </div>
        </div>

        <div
          class="d-flex flex-column flex-sm-row justify-content-between py-4 my-4 border-top"
        >
          <p class="d-flex align-items-center">
            <img
              src="./assets/img/kcmi-logo.jpeg"
              alt="KCMI Nigeria - Rehoboth Christian Center Church Logo"
              width="50"
              class="me-2 rounded-circle"
            />
            ¬© 2025 Kingdom Covenant Ministries International
          </p>
          <div class="d-flex justify-content-center">
            <a
              href="https://www.youtube.com/@rehoboth-tv"
              target="_blank"
              class="mx-2"
            >
              <img
                src="../assets/img/youtube-logo.png"
                alt="YouTube"
                width="30"
                height="30"
              />
            </a>
            <a
              href="https://www.tiktok.com/@frank.aikins?_t=ZM-8tk1OR21Gy5&_r=1"
              target="_blank"
              class="mx-2"
            >
              <img
                src="../assets/img/tiktok-logo.png"
                alt="Tiktok"
                width="25"
                height="25"
                class="rounded-circle"
              />
            </a>
            <a
              href="https://www.facebook.com/share/18bfxXA9Sj/?mibextid=LQQJ4d"
              target="_blank"
              class="mx-2"
            >
              <img
                src="../assets/img/facebook-logo.png"
                alt="Facebook"
                width="30"
                height="30"
              />
            </a>
            <a
              href="https://www.instagram.com/kcmiworldwide?igsh=MWdlazQwejJ0dmpzbQ%3D%3D&utm_source=qr"
              target="_blank"
              class="mx-2"
            >
              <img
                src="../assets/img/instagram-logo.png"
                alt="Instagram"
                width="30"
                height="30"
              />
            </a>
            <a
              href="https://twitter.com/kcmi_official"
              target="_blank"
              class="mx-2"
            >
              <img
                src="../assets/img/twitter-logo.png"
                alt="Twitter"
                width="30"
                height="30"
              />
            </a>
            <a href="#" target="_blank" class="mx-2">
              <img
                src="../assets/img/WhatsApp.svg.webp"
                alt="WhatsApp"
                width="30"
                height="30"
              />
            </a>
          </div>
        </div>
      </div>
    </footer>

    <div
      class="modal fade"
      id="whatsappModal"
      tabindex="-1"
      aria-labelledby="whatsappModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content bg-danger text-white">
          <div class="modal-header">
            <h5 class="modal-title" id="whatsappModalLabel">
              Join Daily Faith Recharge WhatsApp Broadcast
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>
              To join our WhatsApp broadcast, please send a message to
              <strong id="DFRwhatsappNumber">+234 9134 44 8322</strong> with the
              message "Subscribe".
            </p>
            <p>
              Or enter your email below, to receive a WhatsApp subscription link
            </p>
            <form id="whatsappSubscriptionForm">
              <div class="mb-3">
                <label for="whatsappEmail" class="form-label"
                  >Email address</label
                >
                <input
                  type="email"
                  class="form-control bg-light text-dark"
                  id="whatsappEmail"
                  name="email"
                  required
                />
              </div>
              <div class="d-grid">
                <button type="submit" class="btn btn-light">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // =========================================================================
      // === Initialize reCAPTCHA for Contact & Subscription Forms ===
      //
      // Purpose: This section handles the initialization and execution of Google
      // reCAPTCHA v3 for both the contact form and the WhatsApp subscription form
      // to prevent spam submissions.
      // =========================================================================
      function onLoadRecaptcha() {
        console.log("Initializing reCAPTCHA...");

        try {
          grecaptcha.ready(function () {
            console.log("reCAPTCHA API is ready.");

            // --- WhatsApp Subscription Form reCAPTCHA ---
            const whatsappForm = document.getElementById(
              "whatsappSubscriptionForm"
            );
            if (whatsappForm) {
              console.log(
                "Found WhatsApp subscription form. Adding event listener for reCAPTCHA on submit."
              );
              whatsappForm.addEventListener("submit", async (event) => {
                event.preventDefault();
                const email = document.getElementById("whatsappEmail").value;
                try {
                  console.log(
                    "Generating reCAPTCHA token for subscription form..."
                  );
                  const recaptchaToken = await grecaptcha.execute(
                    "6LcRdOsqAAAAAMzghoNjWqpTB3AjOBayn8KIpxac", // Site key - DO NOT HARDCODE SENSITIVE INFO IN PRODUCTION
                    { action: "submit_subscription" }
                  );
                  console.log("reCAPTCHA token generated:", recaptchaToken);
                  console.log("Submitting subscription form data...");
                  const response = await fetch(
                    "https://kcmi-backend.onrender.com/subscribe", // Backend API endpoint
                    {
                      method: "POST",
                      headers: { "Content-Type": "application/json" },
                      body: JSON.stringify({
                        email: email,
                        subscriptionType: "whatsapp",
                        recaptchaToken: recaptchaToken,
                      }),
                    }
                  );
                  console.log(
                    "Subscription form response status:",
                    response.status
                  );
                  const data = await response.json();
                  console.log("Subscription form response data:", data);
                  alert(data.message);
                  if (data.success) {
                    const modal = bootstrap.Modal.getInstance(
                      document.getElementById("whatsappModal")
                    );
                    if (modal) {
                      modal.hide();
                      whatsappForm.reset();
                    }
                  }
                } catch (error) {
                  console.error("Subscription Error:", error);
                  alert("An error occurred. Please try again.");
                }
              });
            } else {
              console.warn("WhatsApp subscription form not found.");
            }
          });
        } catch (error) {
          console.error("reCAPTCHA initialization error:", error);
        }
      }

      document.addEventListener("DOMContentLoaded", async () => {
        // ==========================================================================
        // === Navbar Toggler and Click-Outside-to-Close Logic ===
        //
        // Purpose: Handles the behavior of the mobile navbar. When the toggler button
        // is clicked, it adds/removes a class to open/close the navbar. Additionally,
        // it adds an event listener to close the navbar when the user clicks outside
        // of it.
        // ==========================================================================
        const navbarToggler = document.querySelector(".navbar-toggler");
        const body = document.body;

        if (navbarToggler) {
          navbarToggler.addEventListener("click", function () {
            body.classList.toggle("navbar-open"); // Class to control body overflow and potential styling
          });
        }

        document.addEventListener("click", function (event) {
          const navbar = document.querySelector(".navbar-collapse");

          if (
            navbar &&
            navbarToggler &&
            !navbar.contains(event.target) &&
            !navbarToggler.contains(event.target)
          ) {
            if (navbar.classList.contains("show")) {
              const bsCollapse = new bootstrap.Collapse(navbar); // Bootstrap collapse object

              bsCollapse.hide();
              body.classList.remove("navbar-open");
            }
          }
        });

        // ==========================================================================
        // === Click-to-Copy WhatsApp Number Functionality ===
        //
        // Purpose: Makes the WhatsApp number clickable and copies it to the user's
        // clipboard when clicked. Provides visual feedback to the user upon successful copy.
        // ==========================================================================
        const whatsappNumberElement =
          document.getElementById("DFRwhatsappNumber");

        if (whatsappNumberElement) {
          whatsappNumberElement.addEventListener("click", function () {
            const number = this.textContent.trim();

            navigator.clipboard
              .writeText(number)
              .then(() => {
                const originalText = this.textContent;
                this.textContent = "Copied to Clipboard!";
                setTimeout(() => {
                  this.textContent = originalText;
                }, 1000); // Revert text after 1 second
              })
              .catch((err) => {
                console.error("Failed to copy:", err);
                alert("Failed to copy WhatsApp number. Please try again.");
              });
          });
        }
      });

      // ==========================================================================
      // Dark Mode Toggle
      //
      // Purpose: Implements the dark mode toggle functionality. It checks the user's
      // system preference and local storage to set the initial theme. It also
      // handles the click event of the toggle button to switch between light and
      // dark modes and stores the user's preference in local storage.
      // ==========================================================================
      document.addEventListener("DOMContentLoaded", function () {
        const darkModeToggle = document.getElementById("darkModeToggle");
        const darkIcon = document.getElementById("darkIcon");
        const lightIcon = document.getElementById("lightIcon");
        const prefersDarkMode = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;

        // Check local storage for dark mode preference, or system preference if none is set
        if (
          localStorage.getItem("darkMode") === "enabled" ||
          (prefersDarkMode && localStorage.getItem("darkMode") !== "disabled")
        ) {
          document.documentElement.setAttribute("data-bs-theme", "dark");
          if (darkIcon) darkIcon.style.display = "none";
          if (lightIcon) lightIcon.style.display = "inline";
        }

        if (darkModeToggle) {
          darkModeToggle.addEventListener("click", function () {
            const isDarkMode =
              document.documentElement.getAttribute("data-bs-theme") === "dark";
            document.documentElement.setAttribute(
              "data-bs-theme",
              isDarkMode ? "light" : "dark"
            );

            if (isDarkMode) {
              localStorage.setItem("darkMode", "disabled");
              if (darkIcon) darkIcon.style.display = "inline";
              if (lightIcon) lightIcon.style.display = "none";
            } else {
              localStorage.setItem("darkMode", "enabled");
              if (darkIcon) darkIcon.style.display = "none";
              if (lightIcon) lightIcon.style.display = "inline";
            }
          });
        }
      });
    </script>
  </body>
</html>
